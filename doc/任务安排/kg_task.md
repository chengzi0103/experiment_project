# KG项目里程碑任务清单

## 每日目标
在KG项目中达到一个小里程碑，以便暂时关闭工作，并为未来的继续奠定基础。

## 任务清单

### 数据收集与处理
- [x] **数据源收集**
  - **技术栈**: Python, 文件操作库（如 `os`, `glob`）。
  - **任务详情**:
    - [x] 编写Python脚本自动遍历指定目录，识别并读取TXT, MD, WORD等格式的文件。
    - [x] 验证数据收集脚本的正确性，确保所有文件都能被正确读取和识别。


- [x] **数据建模(知识图谱)与入库**
  - **技术栈**: Dspy, Neo4j,LangChain。
  - **任务详情**:
    - [x] 使用首先使用LangChain来对大语言文本进行拆分,按照分块的大小进行拆分
    - [x] 使用dspy先对每一块的实体和类型进行抽取.当前自己构建了一个案例样本,然后使用dspy的优化器来优化prompt
    - [x] 将抽取过后的实体和类型变成一个参数,由dspy重新组装prompt.获取分块文本的知识图谱数据
    - [x] 将结果进行一个标准数据转换
    - [x] 将数据按照cypher语句的需求,拼接cypher语句,然后入库
  - **存在的问题**:
    - [ ] 使用gpt成本太高,考虑使用国产效果好的大模型,降低费用
    - [ ] 使用dspy构建优化器训练的时候,需要自己构建一个案例多的训练数据,消耗时间比较长
    - [ ] 如果数据量大,构建知识图谱的时间会比较久,需要考虑使用ray来加速

- [x] **数据向量入库**
  - **技术栈**: text-embedding, Neo4j,LangChain。
  - **任务详情**:
    - [x] 使用首先使用LangChain来对大语言文本进行拆分,按照分块的大小进行拆分
    - [ ] 使用embedding模型对分块数据进行向量化操作
    - [ ] 将向量化的数据进行入库,并且查看数据向量化之后的占用空间大小,防止出现空间占用问题


### 用户搜索部分
- [ ] **用户查询与Prompt添加**
  - **技术栈**: dspy
  - **实现方式**: 开发一个简洁直观的用户界面，支持用户输入查询和自定义prompt,并且使用dspy来优化Prompt结构。
  - **任务详情**:
    - 设计用户界面，确保界面简洁直观，用户可以方便地输入查询和自定义prompt。
    - 编写后端逻辑处理用户的查询请求，包括解析prompt和构造查询语句。

- [ ] **使用RAG进行信息检索**
  - **技术栈**: Dspy, Neo4j,LangChain。

  - **实现方式**: 在后端服务中集成RAG模型，根据用户的查询和prompt进行动态内容检索。
  - **任务详情**:
    - [x] 测试RAG模型，确保其可以根据用户的查询可以和neo4j数据库进行动态内容检索。
    - [x] 配置RAG模型的数据源，确保其可以访问知识图谱数据库和向量数据库。

- [ ] **检索来源**
  - **实现方式**: 配置数据库连接，允许RAG模型查询Neo4j存储的知识图谱数据，并集成向量数据库。
  - **任务详情**:
    - 配置Neo4j数据库连接，确保RAG模型可以查询存储的知识图谱数据。
    - 集成向量数据库，如Elasticsearch，提供快速检索能力。
    - 使用LangChain提供的Web API进行在线内容的检索，拓宽答案来源。

- [ ] **答案处理与输出**
  - **技术栈**: xinference。
  - **任务详情**:
    - 使用xinference管理不同的模型实例，包括RAG和其他辅助模型。
    - 开发答案处理逻辑，如答案合并、排序和去重，确保输出的答案质量。
    - 设计反馈机制，根据用户的点击和满意度调整答案排序逻辑，实现自我优化。

### 验证
- [ ] **数据验证**
  - 运行查询以验证数据的完整性和索引的正确性。
  - 修复验证过程中发现的任何问题。

### 文档编写
- [ ] **项目文档**
  - 记录项目的当前状态和已完成的工作。
  - 概述下一步和未来的任务，以便将来能够顺利继续项目。

### 审查与关闭
- [ ] **项目审查**
  - 审查当天的工作，确保所有目标都已完成。
  - 总结达到的里程碑，并计划未来继续项目的步骤。

### 附加说明
- 保持项目的有序，以便将来容易恢复。
- 确保所有脚本和文档都是最新的。

### 使用
- 第一步
- 第二部
---

### 总结
今天的目标是通过完成上述任务，在KG项目中达到一个小里程碑。这样可以暂时关闭项目，并在未来容易继续进行。